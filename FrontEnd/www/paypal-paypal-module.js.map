{"version":3,"sources":["webpack:///./src/app/paypal/paypal.module.ts","webpack:///./src/app/paypal/paypal.page.html","webpack:///./src/app/paypal/paypal.page.scss","webpack:///./src/app/paypal/paypal.page.ts"],"names":[],"mappings":"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","file":"paypal-paypal-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaypalPage } from './paypal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaypalPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PaypalPage]\n})\nexport class PaypalPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>paypal</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <h3>your total price is</h3>\\n  <ion-label>R {{total}} </ion-label>\\n  <!-- <input type=\\\"number\\\" [(ngModel)]=\\\"finalAmount\\\"> -->\\n  <div id=\\\"paypal-checkout-btn\\\"></div>\\n\\n  <!-- <ion-label [(ngModel)]=\\\"finalAmount\\\">5</ion-label> -->\\n\\n  <!-- <form action=\\\"https://www.paypal.com/cgi-bin/webscr\\\" method=\\\"post\\\" target=\\\"_top\\\">\\n    <input type=\\\"hidden\\\" name=\\\"cmd\\\" value=\\\"_s-xclick\\\">\\n    <input type=\\\"hidden\\\" name=\\\"hosted_button_id\\\" value=\\\"FN3MYEHYV3U5C\\\">\\n    <input type=\\\"image\\\" src=\\\"https://www.paypalobjects.com/en_US/i/btn/btn_buynowCC_LG.gif\\\" border=\\\"0\\\" name=\\\"submit\\\" alt=\\\"PayPal - The safer, easier way to pay online!\\\">\\n    <img alt=\\\"\\\" border=\\\"0\\\" src=\\\"https://www.paypalobjects.com/en_US/i/scr/pixel.gif\\\" width=\\\"1\\\" height=\\\"1\\\">\\n    </form> -->\\n\\n    <!-- <ion-label [(ngModel)]=\\\"total\\\"></ion-label> -->\\n\\n    \\n    \\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheXBhbC9wYXlwYWwucGFnZS5zY3NzIn0= */\"","import { Component, OnInit,AfterViewChecked } from '@angular/core';\nimport { promise } from 'protractor';\nimport { resolve } from 'path';\nimport { reject } from 'q';\nimport { ActivatedRoute } from '@angular/router';\nimport { HttpClient } from \"@angular/common/http\";\n\ndeclare let paypal:any;\n\n\n@Component({\n  selector: 'app-paypal',\n  templateUrl: './paypal.page.html',\n  styleUrls: ['./paypal.page.scss'],\n})\n\n\nexport class PaypalPage implements OnInit, AfterViewChecked {\n\n  total:number;\n  convert:number;\n  sum:number;\n  \n  constructor(private route: ActivatedRoute,private http: HttpClient) {}\n  \n\n  ngOnInit() \n  {\n    let amount = this.route.snapshot.paramMap.get('amount');\n    this.total = +amount;\n\n    // console.log(this.total)\n\n    setInterval(() => {\n      this.http.get<any>('https://api.exchangerate-api.com/v4/latest/USD')\n    .subscribe(data => {\n      this.convert = data.rates.ZAR;\n      this.sum = this.total / this.convert;\n     console.log(this.sum)\n    });\n    }, 10000)\n  }\n\n  addScript: boolean =false;\n  paypalLoad:boolean = true;\n  finalAmount: number;\n\n  paypalConfig = {\n    env:  'production',\n    client:{\n      sandbox:'Aeuh_e9M4o1YxR8ZXanPCLsPIxMeImL3KzTB9vvsGk9gR5ps1QqfmCeX3pn2iS_cGm8_4OizWQfSwvaM',\n      production:'AaTKCd3x9c3LDRB0biM3GKq2FK9s13qI_2zL68BWGrQnZEgY1L2UHAYX1NLy5VhtcrZad7_kQAVj53Xe'\n    },\n    commit:true,\n    payment: (data, actions) =>\n    {\n      return actions.payment.create({\n        payment:{\n          transactions:[\n            {amount: {total: this.sum.toFixed(2),currency: 'USD'}}\n          ]\n        }\n      });\n    },\n\n    onAuthorize: (data, actions) =>\n    {\n      return actions.payment.execute().then((payment) =>{\n        // redirect user when the payment is done\n        \n      })\n    }\n  };\n\nngAfterViewChecked():void{\n  if(!this.addScript)\n  {\n    this.addPaypalScript().then(()=>{\n      paypal.Button.render(this.paypalConfig, '#paypal-checkout-btn')\n      this.paypalLoad = false;\n    })\n  }\n}\n\n  addPaypalScript()\n  {\n    this.addScript= true;\n    return new Promise((resolve,reject)=>{\n    let scripttagElement = document.createElement('script');\n    scripttagElement.src = 'https://www.paypalobjects.com/api/checkout.js';\n    scripttagElement.onload = resolve;\n    document.body.appendChild(scripttagElement);\n    })\n  }\n\n}\n"],"sourceRoot":""}